<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="ff0004" >
	<insert id="insertCompany" parameterType="com.ff.fdemo.model.FF000401Model" useGeneratedKeys="true" keyProperty="company_id" keyColumn="company_id">
		INSERT INTO sto_company(
		            company_id, 
		            name, 
		            listed_date,
		            domain,
		            symbol,
		            status
		            
            )
    VALUES (
    				nextval('sto_company_company_id_seq'), 
    				#{companyName}, 
    				to_date(#{listedDate}, 'yyyy-mm-dd'), 
    				#{industryName},  
    				#{symbol},  
    				#{status}
            )
	</insert>
	
	<select id="getAllCompanies" resultType="com.ff.fdemo.model.FF000402Model">
		SELECT 
			company_id, 
			name, 
			total_years_activity, 
			point, 
			domain, 
			listed_date, 
	        symbol, 
	        status
	  	FROM sto_company where status = 'listed'
  	</select>
</mapper>